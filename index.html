<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kabgayi Hospital - Medical Symptom Reporter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        'primary-dark': '#4A49B0',
                        accent: '#FF6B6B',
                    },
                    boxShadow: {
                        'neomorphic': '8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff',
                        'neomorphic-dark': '8px 8px 16px #121212, -8px -8px 16px #262626',
                    },
                },
            },
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .step-container {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.5s ease, max-height 0.5s ease;
        }
        
        .step-container.active {
            max-height: 2000px;
            opacity: 1;
        }

        /* Focus states */
        input:focus, select:focus, textarea:focus {
            outline: 2px solid #5D5CDE;
            outline-offset: 2px;
        }

        .dark input:focus, .dark select:focus, .dark textarea:focus {
            outline: 2px solid #807DFF;
        }

        /* 3D Style Inputs */
        .input-3d {
            transition: all 0.3s ease;
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.1), inset -2px -2px 5px rgba(255,255,255,0.8);
        }

        .dark .input-3d {
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.5), inset -2px -2px 5px rgba(255,255,255,0.1);
        }

        /* 3D Style Cards */
        .card-3d {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card-3d:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .dark .card-3d:hover {
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        /* Language selector animation */
        .lang-card {
            transition: all 0.3s ease;
        }
        
        .lang-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(93, 92, 222, 0.2);
        }
        
        /* Language flag icons */
        .flag-icon {
            width: 30px;
            height: 20px;
            display: inline-block;
            background-size: cover;
            background-position: center;
            margin-right: 8px;
            border-radius: 3px;
        }

        /* Circle Progress */
        .circle-progress {
            transition: all 0.3s ease;
        }

        /* Body part highlight effect */
        .body-part-btn {
            transition: all 0.3s ease;
        }
        
        .body-part-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(93, 92, 222, 0.3);
        }
        
        .body-part-btn.active {
            background-color: #5D5CDE;
            color: white;
        }

        /* Language selection overlay */
        .language-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.97);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease;
        }
        
        .dark .language-overlay {
            background-color: rgba(17, 24, 39, 0.97);
        }
        
        /* Animated icons */
        .icon-pulse {
            animation: iconPulse 2s infinite;
        }
        
        @keyframes iconPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen">
    <!-- Language Selection Overlay -->
    <div id="language-selection" class="language-overlay">
        <div class="container mx-auto px-4 py-10 max-w-xl text-center">
            <div class="inline-flex items-center justify-center mb-2">
                <i class="fas fa-hospital text-primary text-3xl mr-2"></i>
                <h1 class="text-2xl font-bold text-primary dark:text-primary">Kabgayi Hospital</h1>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-8">
                Choose your preferred language / Hitamo ururimi wifuza
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="lang-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 cursor-pointer" data-lang="en">
                    <div class="h-32 flex items-center justify-center">
                        <div class="text-center">
                            <div class="flex items-center justify-center mb-4">
                                <div class="flag-icon" style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjM1IDY1MCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KPGRlZnM+DQo8ZyBpZD0idW5pb24iPg0KPHVzZSB5PSItLjIxNiIgeGxpbms6aHJlZj0iI3g0Ii8+DQo8dXNlIHhsaW5rOmhyZWY9IiN4NCIvPg0KPHVzZSB5PSIuMjE2IiB4bGluazpocmVmPSIjczYiLz4NCjwvZz4NCjxnIGlkPSJ4NCI+DQo8dXNlIHhsaW5rOmhyZWY9IiNzNiIvPg0KPHVzZSB5PSIuMDU0IiB4bGluazpocmVmPSIjczUiLz4NCjx1c2UgeT0iLjEwOCIgeGxpbms6aHJlZj0iI3M2Ii8+DQo8dXNlIHk9Ii4xNjIiIHhsaW5rOmhyZWY9IiNzNSIvPg0KPC9nPg0KPGcgaWQ9InM1Ij4NCjx1c2UgeD0iLS4yNTIiIHhsaW5rOmhyZWY9IiNzdGFyIi8+DQo8dXNlIHg9Ii0uMTI2IiB4bGluazpocmVmPSIjc3RhciIvPg0KPHVzZSB4bGluazpocmVmPSIjc3RhciIvPg0KPHVzZSB4PSIuMTI2IiB4bGluazpocmVmPSIjc3RhciIvPg0KPHVzZSB4PSIuMjUyIiB4bGluazpocmVmPSIjc3RhciIvPg0KPC9nPg0KPGcgaWQ9InM2Ij4NCjx1c2UgeD0iLS4wNjMiIHhsaW5rOmhyZWY9IiNzNSIvPg0KPHVzZSB4PSIuMzE1IiB4bGluazpocmVmPSIjc3RhciIvPg0KPC9nPg0KPGcgaWQ9InN0YXIiPg0KPHVzZSB4bGluazpocmVmPSIjcHQiIHRyYW5zZm9ybT0ibWF0cml4KC0uODA5MDIgLS41ODc3OSAuNTg3NzkgLS44MDkwMiAwIDApIi8+DQo8dXNlIHhsaW5rOmhyZWY9IiNwdCIgdHJhbnNmb3JtPSJtYXRyaXgoLjMwOTAyIC0uOTUxMDYgLjk1MTA2IC4zMDkwMiAwIDApIi8+DQo8dXNlIHhsaW5rOmhyZWY9IiNwdCIvPg0KPHVzZSB4bGluazpocmVmPSIjcHQiIHRyYW5zZm9ybT0icm90YXRlKDcyKSIvPg0KPHVzZSB4bGluazpocmVmPSIjcHQiIHRyYW5zZm9ybT0icm90YXRlKDE0NCkiLz4NCjwvZz4NCjxwYXRoIGZpbGw9IiNmZmYiIGlkPSJwdCIgZD0iTS0uMTYyNSwwIDAtLjUsIC4xNjI1LDAgeiIgdHJhbnNmb3JtPSJzY2FsZSguMDYxNikiLz4NCjxwYXRoIGZpbGw9IiNiYjEzMzkiIGlkPSJzdHJpcGUiIGQ9Im0wLDBoMTIzNXY1MGgtMTIzNXoiLz4NCjwvZGVmcz4NCjxwYXRoIGZpbGw9IiNmZmYiIGQ9Im0wLDBoMTIzNXY2NTBoLTEyMzV6Ii8+DQo8dXNlIHhsaW5rOmhyZWY9IiNzdHJpcGUiLz4NCjx1c2UgeT0iMTAwIiB4bGluazpocmVmPSIjc3RyaXBlIi8+DQo8dXNlIHk9IjIwMCIgeGxpbms6aHJlZj0iI3N0cmlwZSIvPg0KPHVzZSB5PSIzMDAiIHhsaW5rOmhyZWY9IiNzdHJpcGUiLz4NCjx1c2UgeT0iNDAwIiB4bGluazpocmVmPSIjc3RyaXBlIi8+DQo8dXNlIHk9IjUwMCIgeGxpbms6aHJlZj0iI3N0cmlwZSIvPg0KPHVzZSB5PSI2MDAiIHhsaW5rOmhyZWY9IiNzdHJpcGUiLz4NCjxyZWN0IGZpbGw9IiMzYzNiNmUiIHdpZHRoPSI0OTQiIGhlaWdodD0iMzUwIi8+DQo8dXNlIHhsaW5rOmhyZWY9IiN1bmlvbiIgdHJhbnNmb3JtPSJtYXRyaXgoNjUwIDAgMCA2NTAgMjQ3IDAgKSIvPg0KPC9zdmc+')"></div>
                                <span class="text-xl font-semibold">English</span>
                            </div>
                            <p class="text-gray-600 dark:text-gray-400">Continue in English</p>
                        </div>
                    </div>
                </div>
                
                <div class="lang-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 cursor-pointer" data-lang="rw">
                    <div class="h-32 flex items-center justify-center">
                        <div class="text-center">
                            <div class="flex items-center justify-center mb-4">
                                <div class="flag-icon" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Flag_of_Rwanda.svg/1200px-Flag_of_Rwanda.svg.png')"></div>
                                <span class="text-xl font-semibold">Kinyarwanda</span>
                            </div>
                            <p class="text-gray-600 dark:text-gray-400">Komeza mu Kinyarwanda</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-6 max-w-lg">
        <!-- Hospital Logo/Header -->
        <header class="mb-8 text-center">
            <div class="inline-flex items-center justify-center space-x-2 p-2 mb-2">
                <i class="fas fa-hospital text-primary text-3xl"></i>
                <h1 class="text-2xl font-bold text-primary dark:text-primary" data-lang-key="hospitalName">Kabgayi Hospital</h1>
            </div>
            <div class="text-sm text-gray-500 dark:text-gray-400" data-lang-key="appTitle">Medical Symptom Reporter</div>
            
            <!-- Language Switcher -->
            <div class="mt-2 inline-flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-full p-1">
                <button id="en-btn" class="px-3 py-1 rounded-full text-xs font-medium bg-primary text-white">English</button>
                <button id="rw-btn" class="px-3 py-1 rounded-full text-xs font-medium text-gray-600 dark:text-gray-300">Kinyarwanda</button>
            </div>
        </header>
        
        <!-- Step indicator -->
        <div class="mb-8 flex justify-between items-center">
            <div class="flex space-x-4 sm:space-x-10 w-full justify-between md:justify-center">
                <div class="flex flex-col items-center">
                    <div id="step1-indicator" class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center mb-1 shadow-lg">
                        <i class="fas fa-user"></i>
                    </div>
                    <span class="text-xs sm:text-sm" data-lang-key="personal">Personal</span>
                </div>
                <div class="flex-1 h-1 bg-gray-200 dark:bg-gray-700 self-center max-w-[50px] sm:max-w-[80px]"></div>
                <div class="flex flex-col items-center">
                    <div id="step2-indicator" class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700 text-gray-600 dark:text-gray-300 flex items-center justify-center mb-1">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <span class="text-xs sm:text-sm" data-lang-key="basicInfo">Basic Info</span>
                </div>
                <div class="flex-1 h-1 bg-gray-200 dark:bg-gray-700 self-center max-w-[50px] sm:max-w-[80px]"></div>
                <div class="flex flex-col items-center">
                    <div id="step3-indicator" class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700 text-gray-600 dark:text-gray-300 flex items-center justify-center mb-1">
                        <i class="fas fa-notes-medical"></i>
                    </div>
                    <span class="text-xs sm:text-sm" data-lang-key="symptoms">Symptoms</span>
                </div>
                <div class="flex-1 h-1 bg-gray-200 dark:bg-gray-700 self-center max-w-[50px] sm:max-w-[80px]"></div>
                <div class="flex flex-col items-center">
                    <div id="step4-indicator" class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700 text-gray-600 dark:text-gray-300 flex items-center justify-center mb-1">
                        <i class="fas fa-file-medical"></i>
                    </div>
                    <span class="text-xs sm:text-sm" data-lang-key="report">Report</span>
                </div>
            </div>
        </div>

        <!-- Step 1: User Info -->
        <div id="step1" class="step-container active">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg card-3d mb-4">
                <h2 class="text-xl font-semibold mb-4 flex items-center">
                    <i class="fas fa-user text-primary mr-2"></i>
                    <span data-lang-key="personalInfo">Personal Information</span>
                </h2>
                <div class="space-y-5">
                    <div>
                        <label for="fullName" class="block mb-1 font-medium">
                            <i class="fas fa-id-card text-primary mr-2"></i>
                            <span data-lang-key="fullName">Full Name</span>
                        </label>
                        <input type="text" id="fullName" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base" data-lang-key-placeholder="enterFullName" placeholder="Enter your full name" required>
                    </div>
                    <div>
                        <label for="idNumber" class="block mb-1 font-medium">
                            <i class="fas fa-passport text-primary mr-2"></i>
                            <span data-lang-key="idNumber">ID Number</span>
                        </label>
                        <input type="text" id="idNumber" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base" data-lang-key-placeholder="enterIdNumber" placeholder="Enter your ID number" required>
                    </div>
                    <div>
                        <label for="phoneNumber" class="block mb-1 font-medium">
                            <i class="fas fa-phone text-primary mr-2"></i>
                            <span data-lang-key="phoneNumber">Phone Number</span>
                        </label>
                        <input type="tel" id="phoneNumber" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base" data-lang-key-placeholder="enterPhoneNumber" placeholder="Enter your phone number" required>
                    </div>
                    <button id="nextToStep2" class="w-full bg-primary hover:bg-primary-dark text-white font-medium py-3 px-4 rounded-lg mt-6 transition duration-300 flex items-center justify-center">
                        <span data-lang-key="next">Next</span>
                        <i class="fas fa-chevron-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 2: Basic Info -->
        <div id="step2" class="step-container">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg card-3d mb-4">
                <h2 class="text-xl font-semibold mb-4 flex items-center">
                    <i class="fas fa-info-circle text-primary mr-2"></i>
                    <span data-lang-key="basicInfo">Basic Information</span>
                </h2>
                <div class="space-y-5">
                    <div>
                        <label for="age" class="block mb-1 font-medium">
                            <i class="fas fa-birthday-cake text-primary mr-2"></i>
                            <span data-lang-key="age">Age</span>
                        </label>
                        <input type="number" id="age" min="0" max="120" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base" data-lang-key-placeholder="enterAge" placeholder="Enter your age" required>
                    </div>
                    <div>
                        <label for="gender" class="block mb-1 font-medium">
                            <i class="fas fa-venus-mars text-primary mr-2"></i>
                            <span data-lang-key="gender">Gender</span>
                        </label>
                        <select id="gender" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base">
                            <option value="" disabled selected data-lang-key="selectGender">Select your gender</option>
                            <option value="Male" data-lang-key="male">Male</option>
                            <option value="Female" data-lang-key="female">Female</option>
                            <option value="Other" data-lang-key="other">Other</option>
                            <option value="Prefer not to say" data-lang-key="preferNotToSay">Prefer not to say</option>
                        </select>
                    </div>
                    <div>
                        <label for="weight" class="block mb-1 font-medium">
                            <i class="fas fa-weight text-primary mr-2"></i>
                            <span data-lang-key="weight">Weight (kg)</span>
                        </label>
                        <input type="number" id="weight" min="0" max="500" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base" data-lang-key-placeholder="enterWeight" placeholder="Enter your weight in kg" required>
                    </div>
                    <div class="flex space-x-3">
                        <button id="backToStep1" class="w-1/2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white font-medium py-3 px-4 rounded-lg mt-6 transition duration-300 flex items-center justify-center">
                            <i class="fas fa-chevron-left mr-2"></i>
                            <span data-lang-key="back">Back</span>
                        </button>
                        <button id="nextToStep3" class="w-1/2 bg-primary hover:bg-primary-dark text-white font-medium py-3 px-4 rounded-lg mt-6 transition duration-300 flex items-center justify-center">
                            <span data-lang-key="next">Next</span>
                            <i class="fas fa-chevron-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3: Body Part & Symptoms -->
        <div id="step3" class="step-container">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg card-3d mb-4">
                <h2 class="text-xl font-semibold mb-4 flex items-center">
                    <i class="fas fa-notes-medical text-primary mr-2"></i>
                    <span data-lang-key="symptomsInfo">Symptoms Information</span>
                </h2>
                <div class="space-y-5">
                    <div>
                        <label class="block mb-2 font-medium">
                            <i class="fas fa-child text-primary mr-2"></i>
                            <span data-lang-key="bodyRegion">Body Region</span>
                        </label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3 mb-4">
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Head & Face">
                                <i class="fas fa-head-side mb-1 text-lg"></i>
                                <span class="block" data-lang-key="headFace">Head & Face</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Eyes & Vision">
                                <i class="fas fa-eye mb-1 text-lg"></i>
                                <span class="block" data-lang-key="eyesVision">Eyes & Vision</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Ears & Hearing">
                                <i class="fas fa-deaf mb-1 text-lg"></i>
                                <span class="block" data-lang-key="earsHearing">Ears & Hearing</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Nose & Smell">
                                <i class="fas fa-allergies mb-1 text-lg"></i>
                                <span class="block" data-lang-key="noseSmell">Nose & Smell</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Mouth & Throat">
                                <i class="fas fa-tooth mb-1 text-lg"></i>
                                <span class="block" data-lang-key="mouthThroat">Mouth & Throat</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Neck">
                                <i class="fas fa-user mb-1 text-lg"></i>
                                <span class="block" data-lang-key="neck">Neck</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Chest & Lungs">
                                <i class="fas fa-lungs mb-1 text-lg"></i>
                                <span class="block" data-lang-key="chestLungs">Chest & Lungs</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Heart & Circulation">
                                <i class="fas fa-heartbeat mb-1 text-lg"></i>
                                <span class="block" data-lang-key="heart">Heart</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Abdomen & Digestive">
                                <i class="fas fa-stomach mb-1 text-lg"></i>
                                <span class="block" data-lang-key="abdomen">Abdomen</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Pelvic & Urinary">
                                <i class="fas fa-toilet mb-1 text-lg"></i>
                                <span class="block" data-lang-key="pelvicArea">Pelvic Area</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Back & Spine">
                                <i class="fas fa-user mb-1 text-lg"></i>
                                <span class="block" data-lang-key="backSpine">Back & Spine</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Arms & Hands">
                                <i class="fas fa-hand mb-1 text-lg"></i>
                                <span class="block" data-lang-key="armsHands">Arms & Hands</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Legs & Feet">
                                <i class="fas fa-shoe-prints mb-1 text-lg"></i>
                                <span class="block" data-lang-key="legsFeet">Legs & Feet</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Skin & Hair">
                                <i class="fas fa-allergies mb-1 text-lg"></i>
                                <span class="block" data-lang-key="skinHair">Skin & Hair</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Muscles & Joints">
                                <i class="fas fa-bone mb-1 text-lg"></i>
                                <span class="block" data-lang-key="musclesJoints">Muscles & Joints</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="General & Whole Body">
                                <i class="fas fa-user mb-1 text-lg"></i>
                                <span class="block" data-lang-key="wholeBody">Whole Body</span>
                            </button>
                            <button type="button" class="body-part-btn px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-center text-sm" data-value="Mental Health">
                                <i class="fas fa-brain mb-1 text-lg"></i>
                                <span class="block" data-lang-key="mentalHealth">Mental Health</span>
                            </button>
                        </div>
                        <input type="hidden" id="bodyPart" value="">
                    </div>
                    <div>
                        <label for="sickPart" class="block mb-1 font-medium">
                            <i class="fas fa-bullseye text-primary mr-2"></i>
                            <span data-lang-key="specificIssue">Specific Issue</span>
                        </label>
                        <input type="text" id="sickPart" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base" data-lang-key-placeholder="describeSpecificPart" placeholder="Describe the specific part (e.g., right knee, lower back)" required>
                    </div>
                    <div>
                        <label for="symptoms" class="block mb-1 font-medium">
                            <i class="fas fa-clipboard-list text-primary mr-2"></i>
                            <span data-lang-key="symptomsSign">Symptoms & Signs</span>
                        </label>
                        <textarea id="symptoms" rows="4" class="input-3d w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-base" data-lang-key-placeholder="describeSymptoms" placeholder="Describe your symptoms and signs in detail (when they started, severity, triggers, etc.)" required></textarea>
                    </div>
                    
                    <div class="bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg flex items-start">
                        <i class="fas fa-info-circle text-blue-500 mr-2 mt-0.5"></i>
                        <p class="text-sm text-blue-600 dark:text-blue-300" data-lang-key="provideDetails">
                            Please provide as much detail as possible about your symptoms to help the doctor make an accurate assessment.
                        </p>
                    </div>
                    
                    <div class="flex space-x-3">
                        <button id="backToStep2" class="w-1/2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white font-medium py-3 px-4 rounded-lg mt-6 transition duration-300 flex items-center justify-center">
                            <i class="fas fa-chevron-left mr-2"></i>
                            <span data-lang-key="back">Back</span>
                        </button>
                        <button id="generateReport" class="w-1/2 bg-primary hover:bg-primary-dark text-white font-medium py-3 px-4 rounded-lg mt-6 transition duration-300 flex items-center justify-center">
                            <span data-lang-key="generateReport">Generate Report</span>
                            <i class="fas fa-file-medical ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: Summary Report -->
        <div id="step4" class="step-container">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg card-3d mb-4">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-semibold flex items-center">
                        <i class="fas fa-file-medical text-primary mr-2"></i>
                        <span data-lang-key="medicalReport">Medical Report</span>
                    </h2>
                    <div class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-medium">
                        <i class="fas fa-calendar-day mr-1"></i>
                        <span id="report-date"></span>
                    </div>
                </div>
                
                <div class="mb-4 flex items-center justify-center">
                    <div class="bg-primary/10 dark:bg-primary/20 rounded-lg p-3 inline-flex items-center">
                        <i class="fas fa-hospital text-primary text-2xl mr-2"></i>
                        <div>
                            <p class="font-bold text-gray-800 dark:text-gray-200" data-lang-key="hospitalName">Kabgayi Hospital</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400" data-lang-key="patientReport">Patient Symptom Report</p>
                        </div>
                    </div>
                </div>
                
                <div id="reportSummary" class="bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                    <!-- Report summary will be filled here by JavaScript -->
                </div>
                
                <div class="mt-6 space-y-3">
                    <button id="editReport" class="w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center">
                        <i class="fas fa-edit mr-2"></i>
                        <span data-lang-key="editInfo">Edit Information</span>
                    </button>
                    <button id="talkToDoctor" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17.498 14.382c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.77-1.66-2.07-.174-.3-.019-.465.13-.615.136-.135.301-.345.451-.523.146-.181.194-.301.297-.496.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.149.195 2.105 3.195 5.1 4.485.714.3 1.27.48 1.704.629.714.227 1.365.195 1.88.121.574-.091 1.767-.72 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.345m-5.446 7.443h-.016c-1.77 0-3.524-.48-5.055-1.38l-.36-.214-3.75.975 1.005-3.645-.239-.375c-.99-1.576-1.516-3.391-1.516-5.26 0-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.859 2.909 4.35 2.909 6.99-.004 5.444-4.46 9.885-9.935 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.463 0 .104 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652c1.746.943 3.71 1.444 5.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411"/>
                        </svg>
                        <span data-lang-key="talkToDoctor">Talk to Doctor</span>
                    </button>
                </div>
            </div>
            
            <!-- Powered by section -->
            <div class="text-center text-gray-500 dark:text-gray-400 text-sm mt-6">
                <p data-lang-key="poweredBy">Powered by Kabgayi Hospital</p>
                <p class="mt-2 text-xs">&copy; DUFASHWENAYO . Patrick. All rights reserved</p>
            </div>
        </div>
    </div>

    <script>
        // Translation dictionaries
        const translations = {
            en: {
                // Header and general
                hospitalName: "Kabgayi Hospital",
                appTitle: "Medical Symptom Reporter",
                poweredBy: "Powered by Kabgayi Hospital",
                
                // Steps
                personal: "Personal",
                basicInfo: "Basic Info",
                symptoms: "Symptoms",
                report: "Report",
                
                // Step 1
                personalInfo: "Personal Information",
                fullName: "Full Name",
                enterFullName: "Enter your full name",
                idNumber: "ID Number",
                enterIdNumber: "Enter your ID number",
                phoneNumber: "Phone Number",
                enterPhoneNumber: "Enter your phone number",
                
                // Step 2
                age: "Age",
                enterAge: "Enter your age",
                gender: "Gender",
                selectGender: "Select your gender",
                male: "Male",
                female: "Female",
                other: "Other",
                preferNotToSay: "Prefer not to say",
                weight: "Weight (kg)",
                enterWeight: "Enter your weight in kg",
                
                // Step 3
                symptomsInfo: "Symptoms Information",
                bodyRegion: "Body Region",
                specificIssue: "Specific Issue",
                describeSpecificPart: "Describe the specific part (e.g., right knee, lower back)",
                symptomsSign: "Symptoms & Signs",
                describeSymptoms: "Describe your symptoms and signs in detail (when they started, severity, triggers, etc.)",
                provideDetails: "Please provide as much detail as possible about your symptoms to help the doctor make an accurate assessment.",
                
                // Body parts
                headFace: "Head & Face",
                eyesVision: "Eyes & Vision",
                earsHearing: "Ears & Hearing",
                noseSmell: "Nose & Smell",
                mouthThroat: "Mouth & Throat",
                neck: "Neck",
                chestLungs: "Chest & Lungs",
                heart: "Heart",
                abdomen: "Abdomen",
                pelvicArea: "Pelvic Area",
                backSpine: "Back & Spine",
                armsHands: "Arms & Hands",
                legsFeet: "Legs & Feet",
                skinHair: "Skin & Hair",
                musclesJoints: "Muscles & Joints",
                wholeBody: "Whole Body",
                mentalHealth: "Mental Health",
                
                // Step 4
                medicalReport: "Medical Report",
                patientReport: "Patient Symptom Report",
                editInfo: "Edit Information",
                talkToDoctor: "Talk to Doctor",
                
                // Navigation
                next: "Next",
                back: "Back",
                generateReport: "Generate Report",
                
                // Alerts
                fillAllFields: "Please fill in all fields to continue.",
                
                // Report sections
                personalInformation: "Personal Information",
                basicInformation: "Basic Information",
                medicalConcern: "Medical Concern",
            },
            rw: {
                // Header and general
                hospitalName: "Ibitaro bya Kabgayi",
                appTitle: "Raporo y'Ibimenyetso by'Uburwayi",
                poweredBy: "Byakozwe n'Ibitaro bya Kabgayi",
                
                // Steps
                personal: "Umwirondoro",
                basicInfo: "Amakuru rusange",
                symptoms: "Ibimenyetso",
                report: "Raporo",
                
                // Step 1
                personalInfo: "Amakuru y'Umwirondoro",
                fullName: "Amazina Yombi",
                enterFullName: "Andika amazina yawe yombi",
                idNumber: "Nomero y'Indangamuntu",
                enterIdNumber: "Andika nomero y'indangamuntu",
                phoneNumber: "Nomero ya Telefoni",
                enterPhoneNumber: "Andika nomero ya telefoni",
                
                // Step 2
                age: "Imyaka",
                enterAge: "Andika imyaka yawe",
                gender: "Igitsina",
                selectGender: "Hitamo igitsina cyawe",
                male: "Gabo",
                female: "Gore",
                other: "Ikindi",
                preferNotToSay: "Sinshaka kuvuga",
                weight: "Ibiro (kg)",
                enterWeight: "Andika ibiro byawe muri kg",
                
                // Step 3
                symptomsInfo: "Amakuru y'Ibimenyetso",
                bodyRegion: "Igice cy'Umubiri",
                specificIssue: "Ikibazo Nyacyo",
                describeSpecificPart: "Sobanura igice nyacyo (urugero: ivi ry'iburyo, umugongo wo hasi)",
                symptomsSign: "Ibimenyetso",
                describeSymptoms: "Sobanura ibimenyetso byawe mu buryo burambuye (igihe byatangiriye, uburemere, icyabiteye, n'ibindi)",
                provideDetails: "Nyamuneka, tanga amakuru menshi ashoboka ku bimenyetso byawe kugira ngo muganga ashobore gusuzuma neza.",
                
                // Body parts
                headFace: "Umutwe & Mu maso",
                eyesVision: "Amaso & Kureba",
                earsHearing: "Amatwi & Kumva",
                noseSmell: "Izuru & Kunukirwa",
                mouthThroat: "Umunwa & Umuhogo",
                neck: "Ijosi",
                chestLungs: "Igituza & Ibihaha",
                heart: "Umutima",
                abdomen: "Inda",
                pelvicArea: "Inkondo y'inda",
                backSpine: "Umugongo & Uruti rw'umugongo",
                armsHands: "Amaboko & Ibiganza",
                legsFeet: "Amaguru & Ibirenge",
                skinHair: "Uruhu & Imisatsi",
                musclesJoints: "Imikaya & Ingingo",
                wholeBody: "Umubiri wose",
                mentalHealth: "Ubuzima bw'Ubwenge",
                
                // Step 4
                medicalReport: "Raporo y'Ubuvuzi",
                patientReport: "Raporo y'Ibimenyetso by'Uburwayi",
                editInfo: "Guhindura Amakuru",
                talkToDoctor: "Kuganira na Muganga",
                
                // Navigation
                next: "Komeza",
                back: "Gusubira inyuma",
                generateReport: "Kora Raporo",
                
                // Alerts
                fillAllFields: "Nyamuneka uzuza ibisabwa byose kugira ngo ukomeze.",
                
                // Report sections
                personalInformation: "Amakuru y'Umwirondoro",
                basicInformation: "Amakuru Rusange",
                medicalConcern: "Ikibazo cy'Ubuzima",
            }
        };
        
        // Current language
        let currentLanguage = "en";
        
        // Function to apply translations
        function applyTranslations(lang) {
            // Set current language
            currentLanguage = lang;
            
            // Update all elements with data-lang-key attribute
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // Update all placeholders
            document.querySelectorAll('[data-lang-key-placeholder]').forEach(element => {
                const key = element.getAttribute('data-lang-key-placeholder');
                if (translations[lang][key]) {
                    element.placeholder = translations[lang][key];
                }
            });
            
            // Update language toggle buttons
            if (lang === "en") {
                document.getElementById('en-btn').classList.add('bg-primary', 'text-white');
                document.getElementById('en-btn').classList.remove('text-gray-600', 'dark:text-gray-300');
                document.getElementById('rw-btn').classList.remove('bg-primary', 'text-white');
                document.getElementById('rw-btn').classList.add('text-gray-600', 'dark:text-gray-300');
            } else {
                document.getElementById('rw-btn').classList.add('bg-primary', 'text-white');
                document.getElementById('rw-btn').classList.remove('text-gray-600', 'dark:text-gray-300');
                document.getElementById('en-btn').classList.remove('bg-primary', 'text-white');
                document.getElementById('en-btn').classList.add('text-gray-600', 'dark:text-gray-300');
            }
        }
        
        // Initial language selection and toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Language selection overlay
            const languageSelection = document.getElementById('language-selection');
            const langCards = document.querySelectorAll('.lang-card');
            
            langCards.forEach(card => {
                card.addEventListener('click', function() {
                    const selectedLang = this.getAttribute('data-lang');
                    applyTranslations(selectedLang);
                    
                    // Hide the language selection overlay with animation
                    languageSelection.style.opacity = "0";
                    setTimeout(() => {
                        languageSelection.style.display = "none";
                    }, 500);
                });
            });
            
            // Language toggle buttons
            document.getElementById('en-btn').addEventListener('click', function() {
                applyTranslations('en');
            });
            
            document.getElementById('rw-btn').addEventListener('click', function() {
                applyTranslations('rw');
            });
        });

        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Get step elements
        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        const step3 = document.getElementById('step3');
        const step4 = document.getElementById('step4');
        
        // Get step indicators
        const step1Indicator = document.getElementById('step1-indicator');
        const step2Indicator = document.getElementById('step2-indicator');
        const step3Indicator = document.getElementById('step3-indicator');
        const step4Indicator = document.getElementById('step4-indicator');

        // Form data object to store all user inputs
        let formData = {};

        // Body part selection
        const bodyPartBtns = document.querySelectorAll('.body-part-btn');
        const bodyPartInput = document.getElementById('bodyPart');
        
        bodyPartBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // Clear previous selections
                bodyPartBtns.forEach(b => b.classList.remove('active'));
                
                // Set this button as active
                this.classList.add('active');
                
                // Update hidden input
                bodyPartInput.value = this.getAttribute('data-value');
            });
        });

        // Navigation between steps
        document.getElementById('nextToStep2').addEventListener('click', () => {
            // Validate step 1
            const fullName = document.getElementById('fullName').value;
            const idNumber = document.getElementById('idNumber').value;
            const phoneNumber = document.getElementById('phoneNumber').value;

            if (!fullName || !idNumber || !phoneNumber) {
                alert(translations[currentLanguage].fillAllFields);
                return;
            }

            // Store data
            formData.fullName = fullName;
            formData.idNumber = idNumber;
            formData.phoneNumber = phoneNumber;

            // Navigate to step 2
            step1.classList.remove('active');
            step2.classList.add('active');
            
            // Update indicators
            step1Indicator.classList.remove('bg-primary');
            step1Indicator.classList.add('bg-green-500');
            step1Indicator.innerHTML = '<i class="fas fa-check"></i>';
            
            step2Indicator.classList.remove('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
            step2Indicator.classList.add('bg-primary', 'text-white');
        });

        document.getElementById('backToStep1').addEventListener('click', () => {
            step2.classList.remove('active');
            step1.classList.add('active');
            
            // Update indicators
            step1Indicator.classList.remove('bg-green-500');
            step1Indicator.classList.add('bg-primary');
            step1Indicator.innerHTML = '<i class="fas fa-user"></i>';
            
            step2Indicator.classList.remove('bg-primary', 'text-white');
            step2Indicator.classList.add('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
        });

        document.getElementById('nextToStep3').addEventListener('click', () => {
            // Validate step 2
            const age = document.getElementById('age').value;
            const gender = document.getElementById('gender').value;
            const weight = document.getElementById('weight').value;

            if (!age || !gender || !weight) {
                alert(translations[currentLanguage].fillAllFields);
                return;
            }

            // Store data
            formData.age = age;
            formData.gender = gender;
            formData.weight = weight;

            // Navigate to step 3
            step2.classList.remove('active');
            step3.classList.add('active');
            
            // Update indicators
            step2Indicator.classList.remove('bg-primary');
            step2Indicator.classList.add('bg-green-500');
            step2Indicator.innerHTML = '<i class="fas fa-check"></i>';
            
            step3Indicator.classList.remove('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
            step3Indicator.classList.add('bg-primary', 'text-white');
        });

        document.getElementById('backToStep2').addEventListener('click', () => {
            step3.classList.remove('active');
            step2.classList.add('active');
            
            // Update indicators
            step2Indicator.classList.remove('bg-green-500');
            step2Indicator.classList.add('bg-primary');
            step2Indicator.innerHTML = '<i class="fas fa-info-circle"></i>';
            
            step3Indicator.classList.remove('bg-primary', 'text-white');
            step3Indicator.classList.add('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
        });

        document.getElementById('generateReport').addEventListener('click', () => {
            // Validate step 3
            const bodyPart = document.getElementById('bodyPart').value;
            const sickPart = document.getElementById('sickPart').value;
            const symptoms = document.getElementById('symptoms').value;

            if (!bodyPart || !sickPart || !symptoms) {
                alert(translations[currentLanguage].fillAllFields);
                return;
            }

            // Store data
            formData.bodyPart = bodyPart;
            formData.sickPart = sickPart;
            formData.symptoms = symptoms;

            // Generate report summary
            generateSummaryReport();

            // Navigate to step 4
            step3.classList.remove('active');
            step4.classList.add('active');
            
            // Update indicators
            step3Indicator.classList.remove('bg-primary');
            step3Indicator.classList.add('bg-green-500');
            step3Indicator.innerHTML = '<i class="fas fa-check"></i>';
            
            step4Indicator.classList.remove('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
            step4Indicator.classList.add('bg-primary', 'text-white');
        });

        document.getElementById('editReport').addEventListener('click', () => {
            step4.classList.remove('active');
            step1.classList.add('active');
            
            // Reset indicators
            step1Indicator.classList.remove('bg-green-500');
            step1Indicator.classList.add('bg-primary');
            step1Indicator.innerHTML = '<i class="fas fa-user"></i>';
            
            step2Indicator.classList.remove('bg-green-500', 'bg-primary', 'text-white');
            step2Indicator.classList.add('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
            step2Indicator.innerHTML = '<i class="fas fa-info-circle"></i>';
            
            step3Indicator.classList.remove('bg-green-500', 'bg-primary', 'text-white');
            step3Indicator.classList.add('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
            step3Indicator.innerHTML = '<i class="fas fa-notes-medical"></i>';
            
            step4Indicator.classList.remove('bg-primary', 'text-white');
            step4Indicator.classList.add('bg-gray-300', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300');
        });

        // Generate summary report
        function generateSummaryReport() {
            const reportSummary = document.getElementById('reportSummary');
            const reportDate = document.getElementById('report-date');
            
            // Set current date
            const now = new Date();
            reportDate.textContent = now.toLocaleDateString();
            
            const personalInfoTitle = translations[currentLanguage].personalInformation;
            const basicInfoTitle = translations[currentLanguage].basicInformation;
            const medicalConcernTitle = translations[currentLanguage].medicalConcern;
            
            const fullNameLabel = translations[currentLanguage].fullName;
            const idNumberLabel = translations[currentLanguage].idNumber;
            const phoneLabel = translations[currentLanguage].phoneNumber;
            const ageLabel = translations[currentLanguage].age;
            const genderLabel = translations[currentLanguage].gender;
            const weightLabel = translations[currentLanguage].weight;
            const bodyPartLabel = translations[currentLanguage].bodyRegion;
            const specificIssueLabel = translations[currentLanguage].specificIssue;
            const symptomsLabel = translations[currentLanguage].symptomsSign;
            
            reportSummary.innerHTML = `
                <div class="divide-y divide-gray-200 dark:divide-gray-700">
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-3 text-primary dark:text-primary flex items-center">
                            <i class="fas fa-user-circle mr-2"></i>
                            ${personalInfoTitle}
                        </h3>
                        <div class="space-y-2 pl-2">
                            <p class="flex items-center">
                                <i class="fas fa-id-card text-gray-500 dark:text-gray-400 w-6"></i>
                                <span class="font-medium mr-2">${fullNameLabel}:</span> 
                                <span class="text-gray-800 dark:text-gray-200">${formData.fullName}</span>
                            </p>
                            <p class="flex items-center">
                                <i class="fas fa-passport text-gray-500 dark:text-gray-400 w-6"></i>
                                <span class="font-medium mr-2">${idNumberLabel}:</span> 
                                <span class="text-gray-800 dark:text-gray-200">${formData.idNumber}</span>
                            </p>
                            <p class="flex items-center">
                                <i class="fas fa-phone text-gray-500 dark:text-gray-400 w-6"></i>
                                <span class="font-medium mr-2">${phoneLabel}:</span> 
                                <span class="text-gray-800 dark:text-gray-200">${formData.phoneNumber}</span>
                            </p>
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-3 text-primary dark:text-primary flex items-center">
                            <i class="fas fa-info-circle mr-2"></i>
                            ${basicInfoTitle}
                        </h3>
                        <div class="space-y-2 pl-2">
                            <p class="flex items-center">
                                <i class="fas fa-birthday-cake text-gray-500 dark:text-gray-400 w-6"></i>
                                <span class="font-medium mr-2">${ageLabel}:</span> 
                                <span class="text-gray-800 dark:text-gray-200">${formData.age} ${currentLanguage === 'en' ? 'years' : 'imyaka'}</span>
                            </p>
                            <p class="flex items-center">
                                <i class="fas fa-venus-mars text-gray-500 dark:text-gray-400 w-6"></i>
                                <span class="font-medium mr-2">${genderLabel}:</span> 
                                <span class="text-gray-800 dark:text-gray-200">${formData.gender}</span>
                            </p>
                            <p class="flex items-center">
                                <i class="fas fa-weight text-gray-500 dark:text-gray-400 w-6"></i>
                                <span class="font-medium mr-2">${weightLabel}:</span> 
                                <span class="text-gray-800 dark:text-gray-200">${formData.weight} kg</span>
                            </p>
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-3 text-primary dark:text-primary flex items-center">
                            <i class="fas fa-clipboard-list mr-2"></i>
                            ${medicalConcernTitle}
                        </h3>
                        <div class="space-y-3 pl-2">
                            <div class="flex items-start">
                                <i class="fas fa-child text-gray-500 dark:text-gray-400 w-6 mt-1"></i>
                                <div>
                                    <span class="font-medium">${bodyPartLabel}:</span> 
                                    <span class="inline-block bg-primary/10 text-primary px-2 py-0.5 rounded-full text-sm mt-1">${formData.bodyPart}</span>
                                </div>
                            </div>
                            <p class="flex items-start">
                                <i class="fas fa-bullseye text-gray-500 dark:text-gray-400 w-6 mt-1"></i>
                                <span class="font-medium mr-2">${specificIssueLabel}:</span> 
                                <span class="text-gray-800 dark:text-gray-200">${formData.sickPart}</span>
                            </p>
                            <div class="flex items-start">
                                <i class="fas fa-stethoscope text-gray-500 dark:text-gray-400 w-6 mt-1"></i>
                                <div>
                                    <p class="font-medium">${symptomsLabel}:</p>
                                    <p class="bg-white dark:bg-gray-700 p-3 rounded mt-1 text-gray-800 dark:text-gray-200 border border-gray-100 dark:border-gray-600">
                                        ${formData.symptoms.replace(/\n/g, '<br>')}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Talk to doctor button - WhatsApp integration
        document.getElementById('talkToDoctor').addEventListener('click', () => {
            // Format message for WhatsApp based on current language
            let message;
            
            if (currentLanguage === 'en') {
                message = `
*Medical Report from Kabgayi Hospital*
------------------------------------------
*Patient Information:*
Full Name: ${formData.fullName}
ID Number: ${formData.idNumber}
Phone Number: ${formData.phoneNumber}
Age: ${formData.age} years
Gender: ${formData.gender}
Weight: ${formData.weight} kg
------------------------------------------
*Medical Concern:*
Body Part: ${formData.bodyPart}
Specific Issue: ${formData.sickPart}
------------------------------------------
*Symptoms & Signs:*
${formData.symptoms}
------------------------------------------
Report generated on: ${new Date().toLocaleString()}
`.trim();
            } else {
                message = `
*Raporo y'Ubuvuzi yo ku Bitaro bya Kabgayi*
------------------------------------------
*Amakuru y'Umurwayi:*
Amazina Yombi: ${formData.fullName}
Nomero y'Indangamuntu: ${formData.idNumber}
Nomero ya Telefoni: ${formData.phoneNumber}
Imyaka: ${formData.age}
Igitsina: ${formData.gender}
Ibiro: ${formData.weight} kg
------------------------------------------
*Ikibazo cy'Ubuzima:*
Igice cy'Umubiri: ${formData.bodyPart}
Ikibazo Nyacyo: ${formData.sickPart}
------------------------------------------
*Ibimenyetso:*
${formData.symptoms}
------------------------------------------
Raporo yakozwe ku: ${new Date().toLocaleString()}
`.trim();
            }

            // Encode the message for URL
            const encodedMessage = encodeURIComponent(message);
            
            // Create WhatsApp URL
            const whatsappURL = `https://wa.me/250799379271?text=${encodedMessage}`;
            
            // Open WhatsApp in new tab
            window.open(whatsappURL, '_blank');
        });
    </script>
</body>
</html>
